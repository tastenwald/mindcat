(()=>{"use strict";var t=0,e=[];jQuery(document).ready(function(){var A;function b(t){jQuery(t).click(function(){var t=jQuery(this);jQuery(t).hide(),jQuery(jQuery(t).prevAll('span').not('.dashicons')).hide(),jQuery(t).siblings('.dashicons-plus-alt').hide(),jQuery(t).siblings('.mindcat-remove.dashicons-dismiss').hide(),jQuery(t).siblings('.dashicons-yes-alt').show(),jQuery(t).siblings('.mindcat-cancel.dashicons-dismiss').show(),jQuery(jQuery(t).prevAll('input')).attr('type','text').focus()})}function _(t){jQuery(t).click(function(){var t=jQuery(this),C=jQuery(t).prevAll('input');jQuery(t).hide(),jQuery(jQuery(t).prevAll('span').not('.dashicons')).html(jQuery(C).val()).show(),jQuery(t).siblings('.dashicons-welcome-write-blog').show(),jQuery(t).siblings('.dashicons-plus-alt').show(),jQuery(t).siblings('.mindcat-remove.dashicons-dismiss').show(),jQuery(t).siblings('.mindcat-cancel.dashicons-dismiss').hide(),jQuery(C).attr('type','hidden')})}function B(t){jQuery(t).click(function(){var t=jQuery(this),e=jQuery(t).prevAll('span').not('.dashicons');jQuery(t).hide(),jQuery(e).show(),jQuery(t).siblings('.dashicons-welcome-write-blog').show(),jQuery(t).siblings('.dashicons-plus-alt').show(),jQuery(t).siblings('.mindcat-remove.dashicons-dismiss').show(),jQuery(t).siblings('.dashicons-yes-alt').hide(),jQuery(jQuery(t).prevAll('input')).attr('type','hidden').val(jQuery(e).html())})}function E(t){jQuery(t).click(function(){A=jQuery(this);jQuery(this).closest('.mindcat').find('.mindcat-layer').show()})}function f(t){jQuery(t).click(function(){var _a=jQuery(this).siblings('input').val();if(_a.length>0){var _b='<span>'+_a+'</span>'+'<input type="hidden" value="'+_a+'" />'+'<span class="dashicons dashicons-yes-alt" title="'+Mindmap.save+'"></span>'+'<span class="mindcat-cancel dashicons dashicons-dismiss" title="'+Mindmap.cancel+'"></span>'+'<span class="dashicons dashicons-welcome-write-blog" title="'+Mindmap.rename+'"></span>'+'<span class="dashicons dashicons-plus-alt" title="'+Mindmap.add+'"></span>'+'<span class="mindcat-remove dashicons dashicons-dismiss" title="'+Mindmap.remove+'"></span>';var _c=jQuery(A).parent().siblings('ul'),D=jQuery(A).closest('.mindcat').data('size')*10/(2*(jQuery(A).parentsUntil('.mindcat-top','ul').length+1)),_e;if(!_c.length){var F=jQuery(A).parent().attr('style').split(';');_e=jQuery(A).parent().parent().append('<ul style="'+F[3].trim()+'"><li class="mindcat_child" style="height:'+D+'px"><a>'+_b+'</a></li></ul>');_c=jQuery(A).parent().siblings('ul')}else _e=jQuery(_c).append('<li class="mindcat_child" style="height:'+D+'px"><a>'+_b+'</a></li>');var G=jQuery(_c).children('li').length,_h=90*Math.random();jQuery(_c).children('li').each(function(_A){var d=jQuery(this).parent().parent(),h=d.offset();h.height=d.height(),h.width=d.width(),h.centerx=h.left+h.width/2,h.centery=h.top+h.height/2;var o=jQuery(this).children('a').outerWidth(),l=(360/G)*_A+_h;jQuery(this).children('a').css({left:'-'+o/2+'px'}),console.log(l),jQuery(this).css({'-transform':`rotate(${l}deg)`,'-moz-transform':`rotate(${l}deg)`,'-webkit-transform':`rotate(${l}deg)`}),jQuery(this).children('a').css({transform:`rotate(-${l}deg)`,'-moz-transform':`rotate(-${l}deg)`,'-webkit-transform':`rotate(-${l}deg)`})});jQuery(_e).find('.dashicons-welcome-write-blog').click(function(){b(this)}),jQuery(_e).find('.dashicons-yes-alt').click(function(){_(this)}),jQuery(_e).find('.mindcat-cancel.dashicons-dismiss').click(function(){B(this)}),jQuery(_e).find('.dashicons-plus-alt').click(function(){E(this)}),jQuery(_e).find('.mindcat-remove.dashicons-dismiss').click(function(){H(this)});jQuery(A).siblings('.mindcat-remove').detach(),jQuery(this).closest('.mindcat').find('.mindcat-layer').hide()}})}function g(t){jQuery(t).click(function(){jQuery(this).closest('.mindcat').find('.mindcat-layer').hide()})}function H(t){jQuery(t).click(function(){var e=jQuery(jQuery(this)).closest('li.mindcat_child');if(!jQuery(e).siblings().length){var _B=jQuery(e).parent().closest('li.mindcat_child'),_C=jQuery(_B).find('a');jQuery(_C).append('<span class="mindcat-remove dashicons dashicons-dismiss" title="'+Mindmap.remove+'"></span>');jQuery(_C).children('.mindcat-remove.dashicons-dismiss').click(function(){H(this)})}jQuery(e).length&&jQuery(e).detach()})}jQuery('.mindcat').each(function(){var i=jQuery(this),n=i.data('size');isNaN(n)&&(n=50),i.height(12*n);var a=i.offset();a.height=i.height(),a.width=i.width(),(function i(n,a,r,c){e[n.data('id')]=n.children('ul').children('li').length,0!=e[n.data('id')]&&n.children('ul').children('li').each(function(){var s=e[n.data('id')],d=jQuery(this).parent().parent(),h=d.offset();h.height=d.height(),h.width=d.width(),h.centerx=h.left+h.width/2,h.centery=h.top+h.height/2;var o=jQuery(this).children('a').outerWidth(),l=jQuery(this).children('a').outerHeight();jQuery(this).children('a').css({left:'-'+o/2+'px'}),0==t?(jQuery(this).offset({top:h.centery,left:h.centerx}),t=1):(l=(360/s)*r+c,console.log(l),jQuery(this).height(a).css({'-transform':`rotate(${l}deg)`,'-moz-transform':`rotate(${l}deg)`,'-webkit-transform':`rotate(${l}deg)`}),jQuery(this).children('a,ul').css({transform:`rotate(-${l}deg)`,'-moz-transform':`rotate(-${l}deg)`,'-webkit-transform':`rotate(-${l}deg)`})),r++,i(jQuery(this),a/2,0,8*s+c)})})(jQuery(this),10*n,0,90*Math.random())}),jQuery('.mindcat-color-field').length>0&&jQuery('.mindcat-color-field').wpColorPicker(),jQuery('.mindcat a .dashicons-welcome-write-blog').each(function(){b(this)}),jQuery('.mindcat a .dashicons-yes-alt').each(function(){_(this)}),jQuery('.mindcat a .mindcat-cancel.dashicons-dismiss').each(function(){B(this)}),jQuery('.mindcat a .dashicons-plus-alt').each(function(){E(this)}),jQuery('.mindcat-layer .dashicons-yes-alt').each(function(){f(this)}),jQuery('.mindcat-layer .dashicons-dismiss').each(function(){g(this)}),jQuery('.mindcat a .mindcat-remove.dashicons-dismiss').each(function(){H(this)}),jQuery('.mindcat-options .dashicons-fullscreen-alt').each(function(){jQuery(this).click(function(){var e=jQuery(jQuery(this)).closest('.mindcat-wrapper').clone(!0);jQuery(e).addClass('mindcat-wrapper-fullscreen'),jQuery(e).find('.mindcat-options').addClass('mindcat-options-fullscreen'),jQuery(e).find('.dashicons-fullscreen-alt').hide(),jQuery(e).find('.dashicons-fullscreen-exit-alt').css('display','inline-block'),jQuery(e).prependTo('body')})}),jQuery('.mindcat-options .dashicons-fullscreen-exit-alt').each(function(){jQuery(this).click(function(){jQuery(jQuery(this)).closest('.mindcat-wrapper').detach()})})})})();
