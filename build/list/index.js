(()=>{"use strict";var e,a={890:(e,a,l)=>{const n=window.wp.blocks,i=window.wp.i18n,t=window.wp.serverSideRender;var o=l.n(t);const r=window.ReactJSXRuntime,{withSelect:c}=wp.data,{InspectorControls:s,useBlockProps:d,InnerBlocks:u}=wp.blockEditor,{PanelBody:m,CheckboxControl:h,RadioControl:v,ToggleControl:p}=wp.components,{useEffect:b,useState:_}=wp.element,g=["core/query"],x=c((e=>{const[a,l]=_(null);if(b((()=>{wp.apiFetch({path:"/mindcat/taxonomies",method:"GET"}).then((e=>{l(e)})).catch((e=>{console.error(e)}))}),[]),!a)return null;const n=(a,l=0,i=new Set)=>{if(i.has(l))return[];const t=e("core").getEntityRecords("taxonomy",a.slug,{per_page:-1,parent:l});return t&&0!==t.length?(i.add(l),t.map((e=>{const l={value:e.id,label:e.name,slug:e.slug};return a.hierarchical&&(l.children=n(a,e.id,i)),l}))):[]};return{taxonomies:Object.values(a).map((e=>{const a=n({slug:e.slug,hierarchical:e.hierarchical});return{type:e.name,taxonomies:a}}))}}))((e=>{const{className:a,setAttributes:l,attributes:n,taxonomies:t}=e,{selectedCategories:c,displayMode:b,imageChoice:_,imageSizeChoice:x,useBGColor:w,useTextColor:j,showPublications:C}=n,f=d(),y=e=>{let a=[];return e.children&&e.children.length>0&&(a=e.children.reduce(((e,a)=>e.some((e=>e.value===a.value))?e:[...e,a,...y(a)]),[])),a},k=e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(h,{label:e.label,checked:c.some((a=>a.value===e.value)),onChange:()=>(e=>{let a;a=c.some((a=>a.value===e.value))?c.filter((a=>a.value!==e.value)):[...c,e,...y(e)],l({selectedCategories:a})})(e)}),e.children&&e.children.length>0&&(0,r.jsx)("div",{style:{marginLeft:"20px"},children:e.children.map((e=>k(e)))})]},e.value),O=(0,r.jsxs)(s,{children:[(0,r.jsx)(m,{title:(0,i.__)("Filters","mindcat"),initialOpen:!0,children:t&&t.map((e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:e.type}),(0,r.jsx)("div",{style:{marginLeft:"20px"},children:e.taxonomies&&e.taxonomies.map((e=>k(e)))})]},e.type)))}),(0,r.jsxs)(m,{title:(0,i.__)("Display","mindcat"),initialOpen:!0,children:[(0,r.jsx)(v,{label:(0,i.__)("Display mode","mindcat"),selected:b,options:[{label:(0,i.__)("Grid","mindcat"),value:"grid"},{label:(0,i.__)("Column","mindcat"),value:"column"},{label:(0,i.__)("Cards","mindcat"),value:"mindcat-card"},{label:(0,i.__)("Square","mindcat"),value:"mindcat-square-card"},{label:(0,i.__)("Rounds","mindcat"),value:"mindcat-round-card"},{label:(0,i.__)("Brands","mindcat"),value:"mindcat-brand-card"},{label:(0,i.__)("H2","mindcat"),value:"mindcat-h2"},{label:(0,i.__)("H3","mindcat"),value:"mindcat-h3"},{label:(0,i.__)("H4","mindcat"),value:"mindcat-h4"},{label:(0,i.__)("None","mindcat"),value:""}],onChange:e=>{l({displayMode:e})}}),(0,r.jsx)(v,{label:(0,i.__)("Image","mindcat"),selected:_,options:[{label:(0,i.__)("None","mindcat"),value:"none"},{label:(0,i.__)("Primary","mindcat"),value:"primary"},{label:(0,i.__)("Secondary","mindcat"),value:"secondary"}],onChange:e=>{l({imageChoice:e})}}),"none"!==_&&(0,r.jsx)(v,{label:(0,i.__)("Image size","mindcat"),selected:x,options:[{label:(0,i.__)("Thumbnail","mindcat"),value:"thumbnail"},{label:(0,i.__)("Medium","mindcat"),value:"medium"},{label:(0,i.__)("Large","mindcat"),value:"large"},{label:(0,i.__)("Original","mindcat"),value:"original"}],onChange:e=>{l({imageSizeChoice:e})}}),(0,r.jsx)(p,{label:(0,i.__)("Use background color","mindcat"),checked:w,onChange:e=>{l({useBGColor:e})}}),(0,r.jsx)(p,{label:(0,i.__)("Use text color","mindcat"),checked:j,onChange:e=>{l({useTextColor:e})}})]}),(0,r.jsx)(m,{title:(0,i.__)("Publications","mindcat"),initialOpen:!0,children:(0,r.jsx)(h,{label:(0,i.__)("Show publications","mindcat"),checked:C,onChange:e=>l({showPublications:e})})})]});return c.map((e=>e.label)).join(", "),(0,r.jsxs)("div",{className:a,...f,children:[O,(0,r.jsx)(o(),{block:"mindcat/list",attributes:n}),C&&(0,r.jsx)(u,{allowedBlocks:g})]})})),w=window.wp.blockEditor;(0,n.registerBlockType)("mindcat/list",{edit:x,save:function({attributes:e}){const a=w.useBlockProps.save(),l=w.useInnerBlocksProps.save();return(0,r.jsx)("div",{...a,children:(0,r.jsx)("div",{...l})})}})}},l={};function n(e){var i=l[e];if(void 0!==i)return i.exports;var t=l[e]={exports:{}};return a[e](t,t.exports,n),t.exports}n.m=a,e=[],n.O=(a,l,i,t)=>{if(!l){var o=1/0;for(d=0;d<e.length;d++){for(var[l,i,t]=e[d],r=!0,c=0;c<l.length;c++)(!1&t||o>=t)&&Object.keys(n.O).every((e=>n.O[e](l[c])))?l.splice(c--,1):(r=!1,t<o&&(o=t));if(r){e.splice(d--,1);var s=i();void 0!==s&&(a=s)}}return a}t=t||0;for(var d=e.length;d>0&&e[d-1][2]>t;d--)e[d]=e[d-1];e[d]=[l,i,t]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var l in a)n.o(a,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={450:0,382:0};n.O.j=a=>0===e[a];var a=(a,l)=>{var i,t,[o,r,c]=l,s=0;if(o.some((a=>0!==e[a]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(c)var d=c(n)}for(a&&a(l);s<o.length;s++)t=o[s],n.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return n.O(d)},l=globalThis.webpackChunkmindcat=globalThis.webpackChunkmindcat||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))})();var i=n.O(void 0,[382],(()=>n(890)));i=n.O(i)})();